
<div class="tablausu">
    <p-messages [value]="msj"></p-messages>

<p-table [value]="usuarios" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" sortField="idnum" [sortOrder]="1"
responsiveLayout="scroll"
currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" >
    <ng-template pTemplate="header">
        
        <tr>
            <th>id</th>
            <th>nombre</th>
            <th>apellido</th>
            <th>correo</th>
            <th>numtelf</th>
            <th>direccion</th>
            <th>estaengrupo</th>
            <th>coordinador</th>
            <th><div class="p-d-flex p-ai-center p-jc-between">
                <div class="title-box">
                    <span class="item" id="item-title"><b>Agregar usuario</b></span>
                    <p-button class="item-button" icon="pi pi-plus" (click)="displayadd = true"></p-button>
                </div>
            </div></th>
            
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-usuario>
        <tr>
            <td>{{usuario.idnum}}</td>
            <td>{{usuario.nombre}}</td>
            <td>{{usuario.apellido}}</td>
            <td>{{usuario.correo}}</td>
            <td>{{usuario.numtelf}}</td>
            <td>{{usuario.direccion}}</td>
            <td><i class="pi pi-check" *ngIf="usuario.estaengrupo"></i>
                <i class="pi pi-times" *ngIf="!usuario.estaengrupo"></i>
            </td>
            <td><i class="pi pi-check" *ngIf="usuario.coordinador"></i>
                <i class="pi pi-times" *ngIf="!usuario.coordinador"></i> </td>
                <td><button pButton type="button" icon="pi pi-trash" class="p-button-text p-button-danger" (click)="showDialog(usuario)"> </button></td>
        </tr>
    </ng-template>
</p-table>
<p-dialog header="{{userSelected.nombre}} {{userSelected.apellido}}" [(visible)]="display">
    
    
    <div class="dialog-container"><b>¿Deseas eliminar a {{userSelected.nombre}}? &nbsp; &nbsp; <button pButton type="button"  class="p-button-text p-button-danger btnconf" (click)="confirm(userSelected)">Si</button></b></div>
</p-dialog>
<p-confirmDialog header="Confirmation" icon="pi pi-times-circle"></p-confirmDialog>
</div>
<p-dialog header="Agregar un usuario" [(visible)]="displayadd">
<div class="grid p-fluid">
    <div class="col-12 md:col-4">
        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
            <input type="text" pInputText placeholder="nombre" [(ngModel)]="user.nombre" >         
        </div>
    </div>
    
    <div class="col-12 md:col-4">
        <div class="p-inputgroup">
        
            <input type="text" pInputText placeholder="apellido" [(ngModel)]="user.apellido">   
                 
        </div>
    </div>
            
    <div class="col-12 md:col-4">
        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"></span>
            <input type="text" pInputText placeholder="correo" [(ngModel)]="user.correo">      
        </div>
    </div>
    <div class="col-12 md:col-4">
        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
            <input type="text" pInputText placeholder="numtelf" [(ngModel)]="user.numtelf" >         
        </div>
    </div>
    <div class="col-12 md:col-4">
        <div class="p-inputgroup">
            <span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
            <input type="text" pInputText placeholder="direccion" [(ngModel)]="user.direccion" >         
        </div>
    </div>
    <div class="col-12 md:col-4">
    <div class="p-inputgroup">
        <p-checkbox name="groupname" value="estaengrupo" [(ngModel)]="user.estaengrupo" [binary]="true"></p-checkbox>
        <label>Está en grupo</label>         
    </div>
</div>
    <div class="col-12 md:col-4">
    <div class="p-inputgroup">
        <p-checkbox name="groupname" value="coordinador" [(ngModel)]="user.coordinador" [binary]="true"></p-checkbox>
        <label>Es coordinador</label> 
    </div>          
</div>
<div style="width: 100%; display: flex; justify-content: center; align-items: center; padding: 30px;">
    <button pButton pRipple type="button" label="Introducir datos" class="p-button-rounded p-button-success" (click)="addUser()"></button>
    </div>
</div>